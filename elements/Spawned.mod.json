{
  "_fv": 73,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><xml xmlns=\"https://developers.google.com/blockly/xml\"><block deletable=\"false\" type=\"event_trigger\" x=\"257\" y=\"230\"><field name=\"trigger\">entity_spawns</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"entity_isalive\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">((Objects.requireNonNull(ForgeRegistries.ENTITY_TYPES.getKey(entity.getType())).toString()).startsWith(\"jujutsucraft\"))</field></block></value><statement name=\"DO0\"><block type=\"entity_add_potion_advanced\"><field name=\"potion\">CUSTOM:RespawnedJujutsu</field><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">20</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"/></value><next><block type=\"java_code\"><field name=\"CODE\">MobSpawnType spawnType = ((PathfinderMob) entity).getSpawnType();</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">spawnType != null</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">((Objects.requireNonNull(ForgeRegistries.ENTITY_TYPES.getKey(entity.getType())).toString()).startsWith(\"jujutsucraft\"))</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"world_data_logic_getgamerule\"><field name=\"gamerulesboolean\">CUSTOM:JjkuNoStevenson</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof StevensonScreenEntity)</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_is_empty\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"world_data_logic_getgamerule\"><field name=\"gamerulesboolean\">CUSTOM:JjkuNoArmorySpirit</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof CursedSpiritGrade37Entity)</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_is_empty\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement></block></statement></block></statement><next><block type=\"controls_if\"><mutation elseif=\"2\"/><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"logic_binary_ops\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof SukunaEntity)</field></block></value><value name=\"B\"><block type=\"java_code_get\"><field name=\"CODE\">(Objects.requireNonNull(ForgeRegistries.ENTITY_TYPES.getKey(entity.getType())).toString()).equals(\"jujutsucraft:sukuna_fushiguro\") </field></block></value></block></value><value name=\"B\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof SukunaPerfectEntity) </field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_is_empty\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value><value name=\"B\"><block type=\"world_data_num_getgamerule\"><field name=\"gamerulesnumber\">CUSTOM:JjkuSukunaRate</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement></block></statement></block></statement><value name=\"IF1\"><block type=\"logic_binary_ops\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof GojoSatoruSchoolDaysEntity)</field></block></value><value name=\"B\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof GojoSatoruEntity)</field></block></value></block></value><statement name=\"DO1\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_is_empty\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value><value name=\"B\"><block type=\"world_data_num_getgamerule\"><field name=\"gamerulesnumber\">CUSTOM:JjkuGojoRate</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement></block></statement></block></statement><value name=\"IF2\"><block type=\"logic_binary_ops\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof FushiguroTojiEntity)</field></block></value><value name=\"B\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof FushiguroTojiBugEntity)</field></block></value></block></value><statement name=\"DO2\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_is_empty\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value><value name=\"B\"><block type=\"world_data_num_getgamerule\"><field name=\"gamerulesnumber\">CUSTOM:JjkuTojiRate</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_is_empty\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation elseif=\"2\"/><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">CursedSpirit</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value><value name=\"B\"><block type=\"world_data_num_getgamerule\"><field name=\"gamerulesnumber\">CUSTOM:JjkuCursedSpiritRate</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement><value name=\"IF1\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">CurseUser</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value></block></value><statement name=\"DO1\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value><value name=\"B\"><block type=\"world_data_num_getgamerule\"><field name=\"gamerulesnumber\">CUSTOM:JjkuCurseUsersRate</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement><value name=\"IF2\"><block type=\"logic_binary_ops\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"math_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">JujutsuSorcerer</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"B\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">COMMAND</field></block></value></block></value></block></value></block></value><statement name=\"DO2\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value><value name=\"B\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0.01</field></block></value><value name=\"B\"><block type=\"world_data_num_getgamerule\"><field name=\"gamerulesnumber\">CUSTOM:JjkuSorcerersRate</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement><next><block type=\"java_code\"><field name=\"CODE\">// Check if the entity has the specified tags&amp;#10;if (entity.getPersistentData().getDouble(\"CursedSpirit\") == 1 ||&amp;#10;    entity.getPersistentData().getDouble(\"CurseUser\") == 1 ||&amp;#10;    entity.getPersistentData().getDouble(\"JujutsuSorcerer\") == 1) {&amp;#10;    &amp;#10;    // Retrieve the \"buff\" value from the entity's persistent data&amp;#10;    CompoundTag forgeData = entity.getPersistentData().getCompound(\"ForgeData\");&amp;#10;    double buffValue = forgeData.getDouble(\"buff\");&amp;#10;    &amp;#10;    // If \"buff\" is not set to 1, apply the health modification&amp;#10;    if (buffValue != 1) {&amp;#10;        LivingEntity livingEntity = (LivingEntity) entity;&amp;#10;        &amp;#10;        // Get the current MAX_HEALTH attribute&amp;#10;        AttributeInstance maxHealthAttr = livingEntity.getAttribute(Attributes.MAX_HEALTH);&amp;#10;        if (maxHealthAttr != null) {&amp;#10;            // Update the MAX_HEALTH attribute based on game difficulty&amp;#10;            double gameDifficulty = world.getLevelData().getGameRules().getInt(JujutsucraftaddonModGameRules.JJKU_DIFFICULTY);&amp;#10;            double newMaxHealth = 100.0 / gameDifficulty * maxHealthAttr.getBaseValue();&amp;#10;            maxHealthAttr.setBaseValue(newMaxHealth);&amp;#10;            &amp;#10;            // Set the entity's health to the new maximum&amp;#10;            livingEntity.setHealth(livingEntity.getMaxHealth());&amp;#10;        }&amp;#10;        &amp;#10;        // Update the \"buff\" value in the persistent data&amp;#10;        forgeData.putDouble(\"buff\", 1);&amp;#10;        entity.getPersistentData().put(\"ForgeData\", forgeData);&amp;#10;    }&amp;#10;}&amp;#10;</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"world_data_logic_getgamerule\"><field name=\"gamerulesboolean\">CUSTOM:JjkuSpawnOverworld</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">((Objects.requireNonNull(ForgeRegistries.ENTITY_TYPES.getKey(entity.getType())).toString()).startsWith(\"jujutsucraft\"))</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"text_is_empty\"><value name=\"text\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">((PathfinderMob) entity).getSpawnType().toString()</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">NATURAL</field></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement></block></statement></block></statement></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></statement><next><block type=\"call_procedure\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" inputs=\"0\"/><field name=\"procedure\">KenjakuDomainSummoning</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"entity_nbt_num_get\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">Mahoraga</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">(entity instanceof EightHandledSwrodDivergentSilaDivineGeneralMahoragaEntity)</field></block></value><statement name=\"DO0\"><block type=\"entity_add_potion_advanced\"><field name=\"potion\">CUSTOM:MahoEffecto</field><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"duration\"><block type=\"math_number\"><field name=\"NUM\">40</field></block></value><value name=\"ambient\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"particles\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></statement></block></statement></block></next></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"world_data_logic_getgamerule\"><field name=\"gamerulesboolean\">CUSTOM:JjkuNoVanilla</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"entity_is_tagged_in\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value><value name=\"tag\"><block type=\"text\"><field name=\"TEXT\">forge:vanilla_mob</field></block></value></block></value><statement name=\"DO0\"><block type=\"cancel_event\"/></statement></block></statement></block></next></block></statement></block></next></block><block type=\"logic_binary_ops\" x=\"365\" y=\"673\"><field name=\"OP\">EQ</field><value name=\"B\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></xml>"
  }
}