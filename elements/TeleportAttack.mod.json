{
  "_fv": 66,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"distance\" type=\"Number\">distance</variable><variable id=\"angle\" type=\"Number\">angle</variable><variable id=\"yaw\" type=\"Number\">yaw</variable></variables><block deletable=\"false\" type=\"event_trigger\" x=\"0\" y=\"0\"><field name=\"trigger\">no_ext_trigger</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_entity_compare\"><field name=\"entity\">EntityLiving</field><value name=\"compareTo\"><block type=\"entity_from_deps\"/></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_entity_compare\"><field name=\"entity\">EntityLiving</field><value name=\"compareTo\"><block type=\"source_entity_from_deps\"/></value></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" has_entity=\"false\" is_player_var=\"false\"/><field name=\"VAR\">local:yaw</field><value name=\"VAL\"><block type=\"entity_direction\"><value name=\"entity\"><block type=\"entity_from_deps\"/></value></block></value><next><block type=\"java_code\"><field name=\"CODE\">&amp;#10;\t\t\t\t// Calculate the new X, Z positions behind the target&amp;#10;\t\t\t\tdouble distanceBehind = 2.0; // Distance behind the target (you can adjust this value)&amp;#10;\t\t\t\tdouble offsetX = -Math.sin(Math.toRadians(yaw)) * distanceBehind;&amp;#10;\t\t\t\tdouble offsetZ = Math.cos(Math.toRadians(yaw)) * distanceBehind;&amp;#10;\t\t\t\t// Get the target's position and apply the offsets&amp;#10;\t\t\t\tdouble newX = entity.getX() + offsetX;&amp;#10;\t\t\t\tdouble newY = entity.getY();&amp;#10;\t\t\t\tdouble newZ = entity.getZ() + offsetZ;&amp;#10;\t\t\t\t</field><next><block type=\"move_entity\"><value name=\"entity\"><block type=\"source_entity_from_deps\"/></value><value name=\"x\"><block type=\"java_code_get\"><field name=\"CODE\">newX</field></block></value><value name=\"y\"><block type=\"java_code_get\"><field name=\"CODE\">newY</field></block></value><value name=\"z\"><block type=\"java_code_get\"><field name=\"CODE\">newZ</field></block></value></block></next></block></next></block></statement></block></statement></block></next></block></xml>"
  }
}